!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);var o="https://nit.tron.net.ua/",r=document.getElementById("category-template"),c=document.getElementById("product-template"),i="Y96gIp0vkAZpHhh1L3iI",l=document.getElementById("cart-view-table"),d=[],u=[];function a(){try{return new XMLHttpRequest}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return new ActiveXObject("Msxml2.XMLHTTP")}}}function s(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=a();r.onreadystatechange=function(){4===this.readyState&&200===this.status&&(o.push(JSON.parse(this.responseText)),n.apply(null,o))},r.open("GET",e+t,!0),r.send()}function m(e){var t=c.content.cloneNode(!0),n=t.getElementById("product-name-link");t.getElementById("product-container").onclick=function(){!function(e){document.getElementById("products").style.display="none",document.getElementById("product-view").style.display="block",document.getElementById("product-view-name").innerHTML=e.name,document.getElementById("product-view-image").src=e.image_url;var t=document.getElementById("product-view-price"),n=document.getElementById("product-view-special-price");t.innerText=e.price,e.special_price?(n.style.display="block",n.innerHTML=e.special_price,t.style.textDecoration="line-through"):(n.style.display="none",t.style.textDecoration="");document.getElementById("product-view-description").innerHTML=e.description,document.getElementById("product-view-order").onclick=function(){var t=document.getElementById("cart-view-table");y(t,e),f()}}(e)},n.innerHTML=e.name,t.getElementById("product-image").src=e.image_url;var o=t.getElementById("product-price"),r=t.getElementById("product-special-price");return o.innerHTML=e.price,e.special_price?(o.style.textDecoration="line-through",r.innerHTML=e.special_price):r.style.display="none",t.getElementById("add-to-cart").onclick=function(t){t.stopPropagation(),f(),y(l,e)},t}function y(e,t){if(!d.includes(t.id)){d.push(t.id),u.push(1);var n=l.insertRow(l.rows.length);n.insertCell(0).innerHTML=t.name,n.insertCell(1).innerHTML=t.special_price||t.price;var o=n.insertCell(2);o.innerHTML="-";var r=n.insertCell(3),c=d.length-1;o.onclick=function(){u[c]>1&&(r.innerHTML--,u[c]--)},r.innerHTML="1";var i=n.insertCell(4);i.innerHTML="+",i.onclick=function(){u[c]++,r.innerHTML++};var a=n.insertCell(5);a.className="delete-button",a.onclick=function(){var n=d.indexOf(t.id);e.deleteRow(n+1),d.splice(n,1),u.splice(n,1)}}}function p(e){0;var t=r.content.cloneNode(!0),n=t.querySelector(".category-name");return n.onclick=function(){v(),s(o,"api/product/list/category/"+e.id,g,[document.getElementById("products"),m])},n.innerHTML=e.name,t}function g(e,t,n){e.innerHTML="";for(var o=n.length-1;o>=0;o--)e.insertBefore(t(n[o]),e.children[0])}function f(){document.getElementById("products").style.display="none",document.getElementById("product-view").style.display="none",document.getElementById("cart-view").style.display="block"}function v(){document.getElementById("categories");"none"===products.style.display&&(document.getElementById("product-view").style.display="none",document.getElementById("products").style.display="block",document.getElementById("cart-view").style.display="none")}function E(){document.getElementById("cart-view-send").onclick=function(){var e=new FormData(document.forms.cart),t=!0,n=!0,r=!0,c=!0;if(e.get("name").length<1&&(t=!1),function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(e.get("email"))||(r=!1),function(e){return e>=1e8&&e<=999999999}(e.get("phone"))||(n=!1),d.length<1&&(c=!1),t&&r&&n&&c){I("Замовлення надислано","Ваше замовлення успішно збережене та надіслане",!0),e.append("token",i);for(var l=0;l<d.length;l++)e.append("products["+d[l].id+"]",u[l]);!function(e,t,n){var o=a();o.onreadystatechange=function(){4===o.readyState&&(200==o.status||I("Помилка!","Непередбачена помилка",!1))},o.open("POST",e+t,!0),o.send(n)}(o,"api/order/add",e)}else{var s="";t||(s+="Некоректне ім'я <br>"),r||(s+="Некоректна пошта <br>"),n||(s+="Некоректний номер телефону <br>"),c||(s+="Ви не обрали жодного товару <br>"),I("Замовлення не відправлено",s,!1)}}}function I(e,t,n){var o=document.querySelector(".modal");o.style.display="block",n?(o.querySelector(".modal-content").style.borderColor="green",o.querySelector(".modal-content").style.backgroundColor="#deefd9"):(o.querySelector(".modal-content").style.borderColor="red",o.querySelector(".modal-content").style.backgroundColor="#f1dede"),o.querySelector(".modal-header").innerHTML=e,o.querySelector(".modal-text").innerHTML=t}window.onload=function(){s(o,"api/category/list",g,[document.getElementById("categories"),p]),s(o,"api/product/list",g,[document.getElementById("products"),m]),document.getElementById("back-button").onclick=v,E()};var B=!0;document.getElementById("categories-icon").onclick=function(){var e=document.getElementById("list-view");e.style.maxHeight=B?100*document.getElementById("categories").childElementCount+"px":"0",B=!B},document.getElementById("store-header").onclick=v,document.getElementById("cart-icon").onclick=f,window.onclick=function(e){e.target===document.querySelector(".modal")&&(document.querySelector(".modal").style.display="none")},document.getElementById("cart-view-back").onclick=v},function(e,t,n){}]);